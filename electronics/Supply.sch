EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:switches
LIBS:modules
LIBS:rfcom
LIBS:shardy
LIBS:keyboard-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L LM1117-3.3 U?
U 1 1 5B409F22
P 5300 3600
F 0 "U?" H 5400 3350 50  0000 C CNN
F 1 "LM1117-3.3" H 5300 3850 50  0000 C CNN
F 2 "" H 5300 3600 50  0001 C CNN
F 3 "" H 5300 3600 50  0001 C CNN
	1    5300 3600
	1    0    0    -1  
$EndComp
$Comp
L CP C?
U 1 1 5B409F29
P 4600 3850
F 0 "C?" H 4625 3950 50  0000 L CNN
F 1 "10u" H 4625 3750 50  0000 L CNN
F 2 "" H 4638 3700 50  0001 C CNN
F 3 "" H 4600 3850 50  0001 C CNN
	1    4600 3850
	1    0    0    -1  
$EndComp
$Comp
L CP C?
U 1 1 5B409F30
P 5950 3850
F 0 "C?" H 5975 3950 50  0000 L CNN
F 1 "10u" H 5975 3750 50  0000 L CNN
F 2 "" H 5988 3700 50  0001 C CNN
F 3 "" H 5950 3850 50  0001 C CNN
	1    5950 3850
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5B409F3F
P 4600 3450
F 0 "#PWR?" H 4600 3300 50  0001 C CNN
F 1 "+5V" H 4600 3590 50  0000 C CNN
F 2 "" H 4600 3450 50  0001 C CNN
F 3 "" H 4600 3450 50  0001 C CNN
	1    4600 3450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B409F4F
P 5300 4300
F 0 "#PWR?" H 5300 4050 50  0001 C CNN
F 1 "GND" H 5300 4150 50  0000 C CNN
F 2 "" H 5300 4300 50  0001 C CNN
F 3 "" H 5300 4300 50  0001 C CNN
	1    5300 4300
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR?
U 1 1 5B409F5F
P 6350 1500
F 0 "#PWR?" H 6350 1350 50  0001 C CNN
F 1 "+5V" H 6350 1640 50  0000 C CNN
F 2 "" H 6350 1500 50  0001 C CNN
F 3 "" H 6350 1500 50  0001 C CNN
	1    6350 1500
	1    0    0    -1  
$EndComp
Text HLabel 1250 1300 0    60   Input ~ 0
V_USB
Text HLabel 9850 1300 2    60   Output ~ 0
3V3_OUT
Text HLabel 6650 1600 2    60   Output ~ 0
5V0_OUT
$Comp
L NCP1402 U?
U 1 1 5B530CDE
P 5500 2050
F 0 "U?" H 5350 2250 60  0000 C CNN
F 1 "NCP1402" H 5500 1850 60  0000 C CNN
F 2 "" H 5500 2050 60  0000 C CNN
F 3 "" H 5500 2050 60  0000 C CNN
	1    5500 2050
	1    0    0    -1  
$EndComp
$Comp
L INDUCTOR L?
U 1 1 5B530DBE
P 4650 1600
F 0 "L?" H 4650 1700 50  0000 C CNN
F 1 "47u" H 4650 1550 50  0000 C CNN
F 2 "" H 4650 1600 60  0000 C CNN
F 3 "" H 4650 1600 60  0000 C CNN
	1    4650 1600
	1    0    0    -1  
$EndComp
$Comp
L DIODESCH D?
U 1 1 5B530E83
P 5500 1600
F 0 "D?" H 5500 1700 40  0000 C CNN
F 1 "DIODESCH" H 5500 1500 40  0000 C CNN
F 2 "" H 5500 1600 60  0000 C CNN
F 3 "" H 5500 1600 60  0000 C CNN
	1    5500 1600
	1    0    0    -1  
$EndComp
$Comp
L DIODESCH D?
U 1 1 5B531043
P 1950 1300
F 0 "D?" H 1950 1400 40  0000 C CNN
F 1 "DIODESCH" H 1950 1200 40  0000 C CNN
F 2 "" H 1950 1300 60  0000 C CNN
F 3 "" H 1950 1300 60  0000 C CNN
	1    1950 1300
	1    0    0    -1  
$EndComp
$Comp
L CP1_Small C?
U 1 1 5B53128B
P 4300 1900
F 0 "C?" H 4310 1970 50  0000 L CNN
F 1 "10u" H 4310 1820 50  0000 L CNN
F 2 "" H 4300 1900 50  0001 C CNN
F 3 "" H 4300 1900 50  0001 C CNN
	1    4300 1900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B531359
P 4300 2450
F 0 "#PWR?" H 4300 2200 50  0001 C CNN
F 1 "GND" H 4300 2300 50  0000 C CNN
F 2 "" H 4300 2450 50  0001 C CNN
F 3 "" H 4300 2450 50  0001 C CNN
	1    4300 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B5313AC
P 6000 2450
F 0 "#PWR?" H 6000 2200 50  0001 C CNN
F 1 "GND" H 6000 2300 50  0000 C CNN
F 2 "" H 6000 2450 50  0001 C CNN
F 3 "" H 6000 2450 50  0001 C CNN
	1    6000 2450
	1    0    0    -1  
$EndComp
$Comp
L CP1_Small C?
U 1 1 5B5313CF
P 6350 1900
F 0 "C?" H 6360 1970 50  0000 L CNN
F 1 "47u" H 6360 1820 50  0000 L CNN
F 2 "" H 6350 1900 50  0001 C CNN
F 3 "" H 6350 1900 50  0001 C CNN
	1    6350 1900
	1    0    0    -1  
$EndComp
$Comp
L MCP73831 U?
U 1 1 5B531730
P 8800 2050
F 0 "U?" H 8650 2250 60  0000 C CNN
F 1 "MCP73831" H 8800 1850 60  0000 C CNN
F 2 "" H 8800 2050 60  0000 C CNN
F 3 "" H 8800 2050 60  0000 C CNN
	1    8800 2050
	1    0    0    -1  
$EndComp
$Comp
L CONN_01X02_FEMALE J?
U 1 1 5B53186D
P 10350 2050
F 0 "J?" H 10350 2250 50  0000 C CNN
F 1 "CONN_01X02_FEMALE" H 10425 1850 50  0000 C CNN
F 2 "" H 10350 2150 50  0001 C CNN
F 3 "" H 10350 2150 50  0001 C CNN
	1    10350 2050
	1    0    0    -1  
$EndComp
$Comp
L CP1_Small C?
U 1 1 5B53198A
P 8000 2150
F 0 "C?" H 8010 2220 50  0000 L CNN
F 1 "4u7" H 8010 2070 50  0000 L CNN
F 2 "" H 8000 2150 50  0001 C CNN
F 3 "" H 8000 2150 50  0001 C CNN
	1    8000 2150
	1    0    0    -1  
$EndComp
$Comp
L CP1_Small C?
U 1 1 5B5319E8
P 9550 2150
F 0 "C?" H 9560 2220 50  0000 L CNN
F 1 "4u7" H 9560 2070 50  0000 L CNN
F 2 "" H 9550 2150 50  0001 C CNN
F 3 "" H 9550 2150 50  0001 C CNN
	1    9550 2150
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5B531D0C
P 9300 2450
F 0 "R?" V 9380 2450 50  0000 C CNN
F 1 "R" V 9300 2450 50  0000 C CNN
F 2 "" V 9230 2450 50  0001 C CNN
F 3 "" H 9300 2450 50  0001 C CNN
	1    9300 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B531DBC
P 9300 2700
F 0 "#PWR?" H 9300 2450 50  0001 C CNN
F 1 "GND" H 9300 2550 50  0000 C CNN
F 2 "" H 9300 2700 50  0001 C CNN
F 3 "" H 9300 2700 50  0001 C CNN
	1    9300 2700
	1    0    0    -1  
$EndComp
Text Label 8400 2150 2    60   ~ 0
CHRG
$Comp
L R R?
U 1 1 5B532D15
P 10200 4850
F 0 "R?" V 10280 4850 50  0000 C CNN
F 1 "10k" V 10200 4850 50  0000 C CNN
F 2 "" V 10130 4850 50  0001 C CNN
F 3 "" H 10200 4850 50  0001 C CNN
	1    10200 4850
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5B532D71
P 9350 3500
F 0 "R?" V 9430 3500 50  0000 C CNN
F 1 "10k" V 9350 3500 50  0000 C CNN
F 2 "" V 9280 3500 50  0001 C CNN
F 3 "" H 9350 3500 50  0001 C CNN
	1    9350 3500
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5B532DF2
P 10200 4350
F 0 "R?" V 10280 4350 50  0000 C CNN
F 1 "10k" V 10200 4350 50  0000 C CNN
F 2 "" V 10130 4350 50  0001 C CNN
F 3 "" H 10200 4350 50  0001 C CNN
	1    10200 4350
	1    0    0    -1  
$EndComp
$Comp
L Q_NMOS_DGS Q?
U 1 1 5B532F9A
P 9250 4150
F 0 "Q?" H 9450 4200 50  0000 L CNN
F 1 "Q_NMOS_DGS" H 9450 4100 50  0000 L CNN
F 2 "" H 9450 4250 50  0001 C CNN
F 3 "" H 9250 4150 50  0001 C CNN
	1    9250 4150
	1    0    0    -1  
$EndComp
$Comp
L Q_PMOS_DGS Q?
U 1 1 5B53301F
P 10100 3800
F 0 "Q?" H 10300 3850 50  0000 L CNN
F 1 "Q_PMOS_DGS" H 10300 3750 50  0000 L CNN
F 2 "" H 10300 3900 50  0001 C CNN
F 3 "" H 10100 3800 50  0001 C CNN
	1    10100 3800
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5B5336B2
P 8900 4850
F 0 "R?" V 8980 4850 50  0000 C CNN
F 1 "10k" V 8900 4850 50  0000 C CNN
F 2 "" V 8830 4850 50  0001 C CNN
F 3 "" H 8900 4850 50  0001 C CNN
	1    8900 4850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 5B533B00
P 9350 5350
F 0 "#PWR?" H 9350 5100 50  0001 C CNN
F 1 "GND" H 9350 5200 50  0000 C CNN
F 2 "" H 9350 5350 50  0001 C CNN
F 3 "" H 9350 5350 50  0001 C CNN
	1    9350 5350
	1    0    0    -1  
$EndComp
Text HLabel 10450 4600 2    60   Output ~ 0
ADC_LIPO
Text Label 8900 3200 2    60   ~ 0
LIPO_RAW
Text Label 9700 1950 0    60   ~ 0
LIPO_RAW
$Comp
L SW_DPST SW?
U 1 1 5B534E47
P 9350 1200
F 0 "SW?" H 9350 1400 50  0000 C CNN
F 1 "SW_DPST" H 9350 1000 50  0000 C CNN
F 2 "" H 9350 1200 50  0001 C CNN
F 3 "" H 9350 1200 50  0001 C CNN
	1    9350 1200
	1    0    0    -1  
$EndComp
Text Label 6150 3600 0    60   ~ 0
3V3_REG
Text Label 8850 1300 2    60   ~ 0
3V3_REG
Text Label 8850 1100 2    60   ~ 0
LIPO_RAW
Text Label 9850 1100 0    60   ~ 0
V_LIPO
$Comp
L Q_PMOS_DGS Q?
U 1 1 5B537E8E
P 2450 2050
F 0 "Q?" H 2650 2100 50  0000 L CNN
F 1 "Q_PMOS_DGS" H 2650 2000 50  0000 L CNN
F 2 "" H 2650 2150 50  0001 C CNN
F 3 "" H 2450 2050 50  0001 C CNN
	1    2450 2050
	1    0    0    -1  
$EndComp
Text HLabel 8600 4150 0    60   Input ~ 0
ADC_CTRL
$Comp
L R R?
U 1 1 5B5393EA
P 1650 2050
F 0 "R?" V 1730 2050 50  0000 C CNN
F 1 "1k" V 1650 2050 50  0000 C CNN
F 2 "" V 1580 2050 50  0001 C CNN
F 3 "" H 1650 2050 50  0001 C CNN
	1    1650 2050
	0    1    1    0   
$EndComp
Wire Wire Line
	5300 3900 5300 4300
Wire Wire Line
	5950 4100 5950 4000
Connection ~ 5300 4100
Wire Wire Line
	4600 4000 4600 4100
Connection ~ 4600 3600
Connection ~ 5950 3600
Wire Wire Line
	4600 3450 4600 3700
Wire Wire Line
	4600 3600 5000 3600
Connection ~ 5950 4100
Wire Wire Line
	4600 4100 5950 4100
Wire Wire Line
	5600 3600 6150 3600
Wire Wire Line
	2150 1300 3000 1300
Wire Wire Line
	5200 1950 5100 1950
Wire Wire Line
	5100 1950 5100 1600
Wire Wire Line
	5700 1600 6650 1600
Wire Wire Line
	6000 1600 6000 2050
Wire Wire Line
	6000 1950 5800 1950
Wire Wire Line
	6000 2050 5800 2050
Connection ~ 6000 1950
Connection ~ 5100 1600
Wire Wire Line
	1250 1300 1750 1300
Wire Wire Line
	4900 1600 5300 1600
Wire Wire Line
	4300 1800 4300 1600
Wire Wire Line
	4100 1600 4400 1600
Wire Wire Line
	4300 2000 4300 2450
Wire Wire Line
	5800 2150 6350 2150
Wire Wire Line
	6000 2150 6000 2450
Wire Wire Line
	6350 1500 6350 1800
Connection ~ 6000 1600
Wire Wire Line
	6350 2150 6350 2000
Connection ~ 6000 2150
Connection ~ 6350 1600
Connection ~ 4300 1600
Wire Wire Line
	9100 2050 9300 2050
Wire Wire Line
	9300 2050 9300 2300
Wire Wire Line
	9300 2600 9300 2700
Wire Wire Line
	9100 2150 9100 2650
Wire Wire Line
	8000 2650 9950 2650
Connection ~ 9300 2650
Wire Wire Line
	8500 1950 8000 1950
Wire Wire Line
	8000 1850 8000 2050
Connection ~ 8000 1950
Wire Wire Line
	9100 1950 10250 1950
Wire Wire Line
	9550 1950 9550 2050
Connection ~ 9550 1950
Wire Wire Line
	10250 2150 9950 2150
Wire Wire Line
	9950 2150 9950 2650
Wire Wire Line
	9550 2250 9550 2650
Connection ~ 9550 2650
Wire Wire Line
	8000 2250 8000 2650
Connection ~ 9100 2650
Wire Wire Line
	8500 2150 8400 2150
Wire Wire Line
	8900 4150 8900 4700
Wire Wire Line
	8600 4150 9050 4150
Wire Wire Line
	8900 5000 8900 5200
Wire Wire Line
	8900 5200 10200 5200
Wire Wire Line
	10200 5200 10200 5000
Wire Wire Line
	10200 4700 10200 4500
Wire Wire Line
	9350 3650 9350 3950
Wire Wire Line
	9900 3800 9350 3800
Connection ~ 9350 3800
Wire Wire Line
	10200 3200 10200 3600
Wire Wire Line
	10200 4200 10200 4000
Wire Wire Line
	9350 4350 9350 5350
Connection ~ 9350 5200
Wire Wire Line
	10200 4600 10450 4600
Connection ~ 10200 4600
Wire Wire Line
	9350 3350 9350 3200
Wire Wire Line
	8900 3200 10200 3200
Connection ~ 9350 3200
Wire Wire Line
	9550 1300 9850 1300
Wire Wire Line
	9550 1100 9850 1100
Wire Wire Line
	5950 3600 5950 3700
Wire Wire Line
	9150 1300 8850 1300
Wire Wire Line
	9150 1100 8850 1100
Connection ~ 8900 4150
Wire Wire Line
	1500 2050 1350 2050
Wire Wire Line
	1350 2050 1350 1300
Connection ~ 1350 1300
Wire Wire Line
	1800 2050 2250 2050
Wire Wire Line
	2550 1850 2550 1300
Connection ~ 2550 1300
$Comp
L R R?
U 1 1 5B53BD61
P 2100 2350
F 0 "R?" V 2180 2350 50  0000 C CNN
F 1 "10k" V 2100 2350 50  0000 C CNN
F 2 "" V 2030 2350 50  0001 C CNN
F 3 "" H 2100 2350 50  0001 C CNN
	1    2100 2350
	-1   0    0    1   
$EndComp
Wire Wire Line
	2550 2250 2550 2400
Wire Wire Line
	2550 2400 3000 2400
Wire Wire Line
	2100 2200 2100 2050
Connection ~ 2100 2050
Wire Wire Line
	2100 2500 2100 2600
$Comp
L GND #PWR?
U 1 1 5B53BFCC
P 2100 2600
F 0 "#PWR?" H 2100 2350 50  0001 C CNN
F 1 "GND" H 2100 2450 50  0000 C CNN
F 2 "" H 2100 2600 50  0001 C CNN
F 3 "" H 2100 2600 50  0001 C CNN
	1    2100 2600
	1    0    0    -1  
$EndComp
Text Label 3000 2400 0    60   ~ 0
V_LIPO
Text Label 3000 1300 0    60   ~ 0
V_SEL
Text Label 4100 1600 2    60   ~ 0
V_SEL
$Comp
L R R?
U 1 1 5B5457EC
P 3900 3550
F 0 "R?" V 3980 3550 50  0000 C CNN
F 1 "10k" V 3900 3550 50  0000 C CNN
F 2 "" V 3830 3550 50  0001 C CNN
F 3 "" H 3900 3550 50  0001 C CNN
	1    3900 3550
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 5B54587A
P 3900 4100
F 0 "D?" H 3900 4200 50  0000 C CNN
F 1 "LED" H 3900 4000 50  0000 C CNN
F 2 "" H 3900 4100 50  0001 C CNN
F 3 "" H 3900 4100 50  0001 C CNN
	1    3900 4100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3900 3700 3900 3950
Wire Wire Line
	3900 3400 3900 3200
Wire Wire Line
	3900 4250 3900 4450
Text Label 3900 4450 3    60   ~ 0
CHRG
Text Label 3900 3200 1    60   ~ 0
V_SEL
$Comp
L R R?
U 1 1 5B546EB3
P 3250 3550
F 0 "R?" V 3330 3550 50  0000 C CNN
F 1 "10k" V 3250 3550 50  0000 C CNN
F 2 "" V 3180 3550 50  0001 C CNN
F 3 "" H 3250 3550 50  0001 C CNN
	1    3250 3550
	-1   0    0    1   
$EndComp
$Comp
L LED D?
U 1 1 5B546EB9
P 3250 4100
F 0 "D?" H 3250 4200 50  0000 C CNN
F 1 "LED" H 3250 4000 50  0000 C CNN
F 2 "" H 3250 4100 50  0001 C CNN
F 3 "" H 3250 4100 50  0001 C CNN
	1    3250 4100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3250 3700 3250 3950
Wire Wire Line
	3250 3400 3250 3200
Wire Wire Line
	3250 4250 3250 4450
$Comp
L GND #PWR?
U 1 1 5B546EFA
P 3250 4450
F 0 "#PWR?" H 3250 4200 50  0001 C CNN
F 1 "GND" H 3250 4300 50  0000 C CNN
F 2 "" H 3250 4450 50  0001 C CNN
F 3 "" H 3250 4450 50  0001 C CNN
	1    3250 4450
	1    0    0    -1  
$EndComp
Text Label 3250 3200 1    60   ~ 0
V_USB
Text Label 1500 1300 0    60   ~ 0
V_USB
Text Notes 9150 850  0    60   ~ 0
Change to controllable from AVR\n
Text Label 8000 1850 1    60   ~ 0
V_USB
$EndSCHEMATC
